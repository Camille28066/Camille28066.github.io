---
layout: default
---

<head>
    <!-- ...existing head content... -->
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />

    <script>
        L_NO_TOUCH = false;
        L_DISABLE_3D = false;
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css"/>
    
    <meta name="viewport" content="width=device-width,
        initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>

    <style>
        #shikokuTimeDimensionMap {
            height: 600px; /* You can adjust the height */
            width: 100%;
            position: relative;
        }
        .leaflet-container { font-size: 1rem; } /* From shikoku_track_ref.html */
    </style>
</head>

<!-- Navigation Tabs -->
<nav style="display: flex; justify-content: flex-end; background: #222; padding: 1rem 2rem;">
  <a href="index.html" style="color: #fff; text-decoration: none; margin-left: 2rem; font-weight: bold;">Home</a>
  <a href="resume.html" style="color: #fff; text-decoration: none; margin-left: 2rem; font-weight: bold;">Resume</a>
  <a href="publications.html" style="color: #fff; text-decoration: none; margin-left: 2rem; font-weight: bold;">Publications & Events</a>
  <a href="projects.html" style="color: #fff; text-decoration: none; margin-left: 2rem; font-weight: bold;">Projects</a>
  <a href="labs.html" style="color: #fff; text-decoration: none; margin-left: 2rem; font-weight: bold;">Labs</a>
  <a href="sidestories.html" style="color: #fff; text-decoration: none; margin-left: 2rem; font-weight: bold;">Side Stories</a>
</nav>

<section id="sidestories" style="padding: 2rem; background: #f9f9f9;">
  <h2 style="text-align: center; color: #333; margin-bottom: 2rem;">Side Stories</h2>
  <!-- Content for sidestories page will go here -->
  <p style="text-align: center;">This section features an interactive map with a time dimension control, similar to the Shikoku track reference.</p>
  
  <div id="shikokuTimeDimensionMap"></div>

</section>

<script>
    // Ensure this script runs after the DOM is fully loaded,
    // or place it at the end of the body if jQuery's $(document).ready is not used.
    // Since jQuery is loaded, we can use it, or simply ensure script order.

    // Initialize the map
    var shikokuMap = L.map('shikokuTimeDimensionMap', {
        center: [33.8, 133.5], // Approximate center of Shikoku
        zoom: 7, // Adjust zoom level as needed
        zoomControl: true,
        preferCanvas: false,
    });

    // Add a tile layer (OpenStreetMap is a common choice)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(shikokuMap);

    // TimeDimension plugin setup
    // Define a custom TimeDimension control if needed (as in shikoku_track_ref.html)
    L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
        // Add any custom options or methods here if they were in the original
        // For now, it's the same as the base L.Control.TimeDimension
    });

    // Initialize the time dimension instance for the map
    shikokuMap.timeDimension = L.timeDimension({
        // period: "PT5M", // Example: data interval, e.g., every 5 minutes
        // currentTime: new Date() // Example: set initial time
        // Add other TimeDimension options as needed
    });

    // Create and add the TimeDimension control to the map
    var timeDimensionControl = new L.Control.TimeDimensionCustom({
        // playerOptions: {
        //     loop: true,
        //     startOver:true,
        //     transitionTime: 1000 // milliseconds
        // },
        // timeZones: ["Local"], // Example
        position: 'bottomleft' // Or any other position
        // Add other control options as needed
    });
    shikokuMap.addControl(timeDimensionControl);

    // IMPORTANT: To make the animation work, you need to add a TimeDimension layer
    // (e.g., L.timeDimension.layer.geoJson) to the map and associate it with
    // your time-series data.
    // Example (replace with your actual data and layer type):
    /*
    var geoJsonLayer = L.geoJson(null, {
        // GeoJSON layer options
    });
    var tdGeoJsonLayer = L.timeDimension.layer.geoJson(geoJsonLayer, {
        updateTimeDimension: true,
        updateTimeDimensionMode: 'recreate', // or 'update', 'replace'
        addlastPoint: true,
        // duration: 'PT1M', // if your data points have a duration
    });
    tdGeoJsonLayer.addTo(shikokuMap);
    // You would then load your GeoJSON data into geoJsonLayer,
    // ensuring it has 'times' or 'time' properties for TimeDimension to use.
    */

</script>
